{% extends "base_generic.html" %}

{% block content %}
	<h1>Leagues</h1>
	<p>
		<a class="btn btn-info" data-toggle="collapse" href="#multiCollapseExample1" role="button" aria-expanded="false" aria-controls="multiCollapseExample1">Admin Leagues</a>
		<button class="btn btn-info" type="button" data-toggle="collapse" data-target="#multiCollapseExample2" aria-expanded="false" aria-controls="multiCollapseExample2">Player Leagues</button>
		<button class="btn btn-info" type="button" data-toggle="collapse" data-target="#multiCollapseExample3" aria-expanded="false" aria-controls="multiCollapseExample3">Public Leagues</button>
		<button class="btn btn-info" type="button" data-toggle="collapse" data-target=".multi-collapse" aria-expanded="false" aria-controls="multiCollapseExample1 multiCollapseExample2 multiCollapseExample3">Open All</button>
	</p>

	<div class="collapse multi-collapse show" id="multiCollapseExample1">
	<h3>Admin Leagues</h3>
	<a href="{% url 'createLeague' %}"><button type="button" class="btn btn-link">Create league</button></a>
	{% if adminLeagues %}
		<table class="table table-hover">
			<thead>
				<tr>
					<th scope="col">Name</th>
					<th scope="col">Starting Balance</th>
					<th scope="col">Start Date</th>
					<th scope="col">End Date</th>
					<th scope="col">Public</th>
					<th scope="col">Description</th>
					<th scope="col"></th>
				</tr>
			</thead>
			<tbody>
				{% for adminLeague in adminLeagues %}
				<tr>
					<th scope="row">{{ adminLeague.name }}</th>
					<td> {{ adminLeague.startingBalance }}</td>
					<td> {{ adminLeague.startDate }}</td>
					<td> {{ adminLeague.endDate }} </td>
					<td> {{ adminLeague.public }} </td>
					<td> {{ adminLeague.description }} </td>
					<td><a href="admin/{{ adminLeague.name }}"><button type="button" class="btn btn-link">Manage</button></a></td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	{% endif %}
	</div>
	<br>
	<br>
	<br>
	<br>
	<div class="collapse multi-collapse show" id="multiCollapseExample2">
	<h3>Player Leagues</h3>
	{% if playerLeagues %}
		<table class="table table-hover">
			<thead>
				<tr>
					<th scope="col">Name</th>
					<th scope="col">Starting Balance</th>
					<th scope="col">Start Date</th>
					<th scope="col">End Date</th>
					<th scope="col">Public</th>
					<th scope="col">Description</th>
					<th scope="col"></th>
				</tr>
			</thead>
			<tbody>
				{% for playerLeague in playerLeagues %}
				<tr>
					<th scope="row">{{ playerLeague.name }}</th>
					<td> {{ playerLeague.startingBalance }}</td>
					<td> {{ playerLeague.startDate }}</td>
					<td> {{ playerLeague.endDate }} </td>
					<td> {{ playerLeague.public }} </td>
					<td> {{ playerLeague.description }} </td>
					<td><button type="button" class="btn btn-link"><a href="leave/{{ playerLeague.name }}">Leave</a></button></td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	{% endif %}
	</div>
	<br>
	<br>
	<br>
	<br>
	<div class="collapse multi-collapse show" id="multiCollapseExample3">
	<h3>Public Leagues</h3>
	{% if publicLeagues %}
		<table class="table table-hover">
			<thead>
				<tr>
					<th scope="col">Name</th>
					<th scope="col">Starting Balance</th>
					<th scope="col">Start Date</th>
					<th scope="col">End Date</th>
					<th scope="col">Public</th>
					<th scope="col">Description</th>
					<th scope="col"></th>
				</tr>
			</thead>
			<tbody>
				{% for publicLeague in publicLeagues %}
				<tr>
					<th scope="row">{{ publicLeague.name }}</th>
					<td> {{ publicLeague.startingBalance }}</td>
					<td> {{ publicLeague.startDate }}</td>
					<td> {{ publicLeague.endDate }} </td>
					<td> {{ publicLeague.public }} </td>
					<td> {{ publicLeague.description }} </td>
					<td><button type="button" class="btn btn-link"><a href="join/{{ publicLeague.name }}">Join</a></button></td>
				</tr>
				{% endfor %}
			</tbody>
	{% endif %}
		</div>
{% endblock %}